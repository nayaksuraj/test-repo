# ==============================================================================
# Bitbucket Pipeline for nayaksuraj/test-repo
# ==============================================================================
# This repository demonstrates reusable pipeline templates and uses its own
# universal template as an example of best practices.
#
# This file uses the !include directive to reference the universal template,
# reducing duplication and demonstrating the recommended approach for using
# pipeline templates.
# ==============================================================================

# Import the universal template from pipeline-templates/
!include:
  - pipeline-templates/universal-template.yml

# ==============================================================================
# Why This Approach?
# ==============================================================================
# ✅ Single source of truth - template is maintained in one place
# ✅ Consistency - follows the same pattern as language-specific templates
# ✅ Reduced duplication - 815 lines → 20 lines (97% reduction)
# ✅ Easy to update - change template once, affects this file automatically
# ✅ Demonstrates best practices - "eating our own dog food"
#
# For language-specific projects, use the appropriate template:
# - Python: pipeline-templates/python-template.yml
# - Java (Maven): pipeline-templates/java-maven-template.yml
# - Java (Gradle): pipeline-templates/java-gradle-template.yml
# - Node.js: pipeline-templates/nodejs-template.yml
# - Go: pipeline-templates/golang-template.yml
# - .NET: pipeline-templates/dotnet-template.yml
# - Rust: pipeline-templates/rust-template.yml
# - Ruby: pipeline-templates/ruby-template.yml
# - PHP: pipeline-templates/php-template.yml
#
# See pipeline-templates/README.md for complete documentation.
# ==============================================================================

# ==============================================================================
# Required Bitbucket Variables
# ==============================================================================
# Configure these in: Repository Settings → Pipelines → Repository Variables
#
# Docker Registry:
#   - DOCKER_REGISTRY (e.g., docker.io)
#   - DOCKER_REPOSITORY (e.g., nayaksuraj/test-repo)
#   - DOCKER_USERNAME
#   - DOCKER_PASSWORD (secured)
#
# Helm Registry:
#   - HELM_REGISTRY (e.g., oci://ghcr.io/nayaksuraj/charts)
#   - HELM_REGISTRY_USERNAME
#   - HELM_REGISTRY_PASSWORD (secured)
#
# Kubernetes:
#   - KUBECONFIG_DEV (base64 encoded, secured)
#   - KUBECONFIG_STAGING (base64 encoded, secured)
#   - KUBECONFIG_PRODUCTION (base64 encoded, secured)
#
# Optional:
#   - SLACK_WEBHOOK_URL (secured)
#   - SONAR_TOKEN (secured)
# ==============================================================================
